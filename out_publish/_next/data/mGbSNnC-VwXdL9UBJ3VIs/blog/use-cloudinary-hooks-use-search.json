{"pageProps":{"mdxSource":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Following on from my article about the use-cloudinary useUpload hook - \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://richardhaines.dev/use-cloudinary-hooks/\"\n  }), \"use-cloudinary - useUpload hook\"), \", this time we'll be taking a look at the useSearch hook, and its a powerful beast!\"), mdx(\"p\", null, \"My use case is simple, Users upload their profile and cover image to cloudinary via the useUpload hook in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.devpack.dev/\"\n  }), \"devpack\"), \". Each image is saved to a corresponding folder with their name and a suffix of either cover or profile. When the user next logs in to devpack they can choose to upload one of their previous 3 images that were saved in their cloudinary folders, or just upload a new image and use that one.\"), mdx(\"p\", null, \"This is where useSearch comes into play. I use it by calling a serverless function which I pass a search function with certain search parameters. Lets look at some code to get an idea of what Im talking about.\"), mdx(\"h2\", null, \"Serverless function\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const cloudinary = require('cloudinary').v2;\\ncloudinary.config({\\n  cloud_name: process.env.CLOUDINARY_NAME,\\n  api_key: process.env.CLOUDINARY_API_KEY,\\n  api_secret: process.env.CLOUDINARY_API_SECRET,\\n});\\nexports.handler = async (event) => {\\n  const body = JSON.parse(event.body);\\n  const res = await cloudinary.search\\n    .expression(body.expression.expression)\\n    .max_results(3)\\n    .execute()\\n    .then((result) => result);\\n  return {\\n    statusCode: 200,\\n    body: JSON.stringify(res),\\n  };\\n};\\n\")), mdx(\"p\", null, \"This function takes an event:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Parses the body passing in the expression which defines our search parameters which we will define in our search function below. (Note that at the time of writing this is nested)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Sets the max results to 3\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Returns an a okey 200 and the result of the search\")), mdx(\"h2\", null, \"useSearch\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"I've removed styles from this component\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from 'react';\\nimport Button from './button';\\nimport LazyImage from '../hub/dev-card/image';\\nimport Error from '../svg/error';\\nimport Loading from '../svg/loading';\\nimport { useSearch } from 'use-cloudinary';\\nimport { DevCardStateContext } from '../../context/devcard-context';\\n\\nconst SavedProfileImages = () => {\\n  const { search, data, isLoading, isSuccess, isError, error } = useSearch({\\n    endpoint: '/.netlify/functions/search',\\n  });\\n\\n  // This is just a standard context with some values, such as name\\n  const state = React.useContext(DevCardStateContext);\\n\\n  // The folder name cant have any spaces so we replace the spaces\\n  let folder = `${state.name.replace(/\\\\s/g, '')}-profile`;\\n\\n  const customConfigSearch = React.useCallback(\\n    () =>\\n      search({\\n        expression: `resource_type:image AND folder=${folder}`,\\n        config: {},\\n      }),\\n    [search, folder],\\n  );\\n\\n  if (isLoading) return <Loading />;\\n  if (isError)\\n    return (\\n      <div>\\n        <Error width=\\\"90px\\\" height=\\\"90px\\\" />\\n        <p>{error.message}</p>\\n      </div>\\n    );\\n\\n  if (state.name.replace(/\\\\s/g, '') !== '' && isSuccess) {\\n    return (\\n      <div>\\n        <div>\\n          {data &&\\n            data.resources\\n              .filter((image) => image.folder === getFolder())\\n              .slice(0, 3)\\n              .map((image) => {\\n                return (\\n                  <LazyImage\\n                    key={image.etag}\\n                    publicId={image.public_id}\\n                    width={100}\\n                    height={100}\\n                    transforms={{ height: 0.2, border: '2px_solid_black' }}\\n                    cloudName=\\\"xxxxxxx\\\"\\n                    secure_url={image.secure_url}\\n                  />\\n                );\\n              })}\\n        </div>\\n        <em>Your last 3 saves are shown</em>\\n      </div>\\n    );\\n  }\\n\\n  return (\\n    <div>\\n      <Button text=\\\"Load Profile Images\\\" onClick={() => customConfigSearch()} />\\n      <em>Your last 3 saves are shown</em>\\n    </div>\\n  );\\n};\\n\\nexport default SavedProfileImages;\\n\")), mdx(\"p\", null, \"Lets break this down.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The useSearch hook takes an endpoint, in our case our serverless function. It returns a search function, the data and some states.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The context holds our users name.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The customConfigSearch is the power house of this functionality. You can pass it any number of things to search by, in our case its the folder name. We use the = symbol to indicate that we want an exact match. Its wrapped in a useCallback to prevent re-rendering based on the prop changes and stop our serverless function being called again and again. This saves us on our rate limit with cloudinary.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The expression itself is written using the string literal syntax stating the type of media we are searching for and the exact match on the folder name.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The config object is optional and can also include any number of options such as tags, sort_by, max_results and many more. Note that some of these can also be added at the serverless function level. Check the docs for more info on whats possible\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The states are handled with custom error and loading components- If the folder is a match and the data was retrieved successfully then the data array is accessed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The image is returned as a lazy image, which we will cover next!\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A button calls the customConfigSearch function to load the images.\")), mdx(\"p\", null, \"Phew! That was a lot to take in! \\uD83D\\uDE05\"), mdx(\"p\", null, \"The lazy image is a component that lazy loads an image with a placeholder. Handy!\"), mdx(\"h2\", null, \"Lazy load image\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from 'react';\\nimport { useImage } from 'use-cloudinary';\\nimport { DevCardDispatchContext } from '../../../context/devcard-context';\\n\\n// Image w/ Lazy-load + placeholder\\nfunction LazyImage({\\n  publicId,\\n  transformations,\\n  width,\\n  height,\\n  cloudName,\\n  secure_url,\\n  isProfile,\\n}) {\\n  const {\\n    generateUrl,\\n    blurredPlaceholderUrl,\\n    isError,\\n    error,\\n    ref,\\n    supportsLazyLoading,\\n    inView,\\n    isSuccess,\\n  } = useImage({\\n    cloudName,\\n  });\\n  const dispatch = React.useContext(DevCardDispatchContext);\\n  React.useEffect(() => {\\n    generateUrl({\\n      publicId,\\n      transformations: {\\n        width,\\n        height,\\n        ...transformations,\\n      },\\n    });\\n    // eslint-disable-next-line react-hooks/exhaustive-deps\\n  }, []);\\n  if (isError) return <p>{error.message}</p>;\\n  return (\\n    <div\\n      ref={!supportsLazyLoading ? ref : undefined}\\n      style={{\\n        width: `${width}px`,\\n        height: `${height}px`,\\n        background: `no-repeat url(${blurredPlaceholderUrl(\\n          publicId,\\n          width,\\n          height,\\n        )})`,\\n        cursor: 'pointer',\\n        outline: 'none',\\n      }}\\n      role=\\\"button\\\"\\n      tabindex=\\\"0\\\"\\n      onKeyPress={() =>\\n        dispatch({\\n          type: isProfile ? 'selectedProfileImage' : 'selectedCoverImage',\\n          payload: secure_url,\\n        })\\n      }\\n      onClick={() =>\\n        dispatch({\\n          type: isProfile ? 'selectedProfileImage' : 'selectedCoverImage',\\n          payload: secure_url,\\n        })\\n      }\\n    >\\n      {inView || (supportsLazyLoading && isSuccess) ? (\\n        <img\\n          src={secure_url}\\n          loading=\\\"lazy\\\"\\n          style={{\\n            width: `${width}px`,\\n            height: `${height}px`,\\n            border: 'solid 2px',\\n          }}\\n          alt=\\\"Lazy loaded profile\\\"\\n        />\\n      ) : null}\\n    </div>\\n  );\\n}\\n\\nexport default LazyImage;\\n\")), mdx(\"p\", null, \"One thing to note about using this component with Gatsby is that the base image url wont load the image, you have to use the https secure_url for it to work.\"), mdx(\"p\", null, \"And thats it! It's a pretty powerful way to load your images via user defined events. Check the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://use-cloudinary.netlify.app/usage/use-search\"\n  }), \"useSearch docs\"), \" for a run down of whats possible with the hook.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<p>Following on from my article about the use-cloudinary useUpload hook - <a href=\"https://richardhaines.dev/use-cloudinary-hooks/\">use-cloudinary - useUpload hook</a>, this time we&#x27;ll be taking a look at the useSearch hook, and its a powerful beast!</p><p>My use case is simple, Users upload their profile and cover image to cloudinary via the useUpload hook in <a href=\"https://www.devpack.dev/\">devpack</a>. Each image is saved to a corresponding folder with their name and a suffix of either cover or profile. When the user next logs in to devpack they can choose to upload one of their previous 3 images that were saved in their cloudinary folders, or just upload a new image and use that one.</p><p>This is where useSearch comes into play. I use it by calling a serverless function which I pass a search function with certain search parameters. Lets look at some code to get an idea of what Im talking about.</p><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Serverless function</p><pre><pre class=\"prism-code language-js\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> cloudinary </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;cloudinary&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">v2</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">cloudinary</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">config</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  cloud_name</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> process</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">CLOUDINARY_NAME</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  api_key</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> process</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">CLOUDINARY_API_KEY</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  api_secret</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> process</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">CLOUDINARY_API_SECRET</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">exports</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method-variable function-variable method function property-access\" style=\"color:rgb(220, 220, 170)\">handler</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">async</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> body </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\" style=\"color:rgb(78, 201, 176)\">JSON</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">parse</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">event</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> res </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">await</span><span class=\"token plain\"> cloudinary</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">search</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">expression</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">body</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">expression</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">expression</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">max_results</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">3</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">execute</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">then</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> result</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    statusCode</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">200</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    body</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\" style=\"color:rgb(78, 201, 176)\">JSON</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">stringify</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">res</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>This function takes an event:</p><style data-emotion-css=\"2yqebn\">.css-2yqebn{list-style-type:bullet;margin-left:1em;margin-top:2px;margin-bottom:2px;}</style><ul role=\"list\" class=\"css-2yqebn\"><li class=\"css-0\">Parses the body passing in the expression which defines our search parameters which we will define in our search function below. (Note that at the time of writing this is nested)</li><li class=\"css-0\">Sets the max results to 3</li><li class=\"css-0\">Returns an a okey 200 and the result of the search</li></ul><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">useSearch</p><blockquote><p>I&#x27;ve removed styles from this component</p></blockquote><pre><pre class=\"prism-code language-jsx\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> React </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;react&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> Button </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;./button&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> LazyImage </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;../hub/dev-card/image&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> Error </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;../svg/error&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> Loading </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;../svg/loading&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> useSearch </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;use-cloudinary&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> DevCardStateContext </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;../../context/devcard-context&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:rgb(220, 220, 170)\">SavedProfileImages</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> search</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> data</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> isLoading</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> isSuccess</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> isError</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> error </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useSearch</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    endpoint</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;/.netlify/functions/search&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(106, 153, 85)\">// This is just a standard context with some values, such as name</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> state </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> React</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useContext</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">DevCardStateContext</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(106, 153, 85)\">// The folder name cant have any spaces so we replace the spaces</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">let</span><span class=\"token plain\"> folder </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token template-string interpolation\">state</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token template-string interpolation\">name</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token template-string interpolation function\" style=\"color:rgb(220, 220, 170)\">replace</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token template-string interpolation regex\">/\\s/g</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token template-string interpolation\"> </span><span class=\"token template-string interpolation string\" style=\"color:rgb(206, 145, 120)\">&#x27;&#x27;</span><span class=\"token template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">-profile</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> customConfigSearch </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> React</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useCallback</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">search</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        expression</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">resource_type:image AND folder=</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token template-string interpolation\">folder</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        config</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">[</span><span class=\"token plain\">search</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> folder</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">]</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">isLoading</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Loading</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">isError</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Error</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">width</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">90px</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">height</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">90px</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">p</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">error</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">message</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">p</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">state</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">replace</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token regex\">/\\s/g</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">!==</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;&#x27;</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> isSuccess</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">data </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">            data</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">resources</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">filter</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">image</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> image</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">folder </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">===</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">getFolder</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">slice</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">0</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">3</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">map</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">image</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">                  </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">LazyImage</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">key</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">image</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">etag</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">publicId</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">image</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">public_id</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">width</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript number\" style=\"color:rgb(181, 206, 168)\">100</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">height</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript number\" style=\"color:rgb(181, 206, 168)\">100</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">transforms</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> height</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript number\" style=\"color:rgb(181, 206, 168)\">0.2</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> border</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;2px_solid_black&#x27;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">cloudName</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">xxxxxxx</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                    </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">secure_url</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">image</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">secure_url</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">                  </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">em</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\">Your last </span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">3</span><span class=\"token plain\"> saves are shown</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">em</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Button</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">text</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">Load Profile Images</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">onClick</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript function\" style=\"color:rgb(220, 220, 170)\">customConfigSearch</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">em</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\">Your last </span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">3</span><span class=\"token plain\"> saves are shown</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">em</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">export</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">default</span><span class=\"token plain\"> SavedProfileImages</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Lets break this down.</p><style data-emotion-css=\"2yqebn\">.css-2yqebn{list-style-type:bullet;margin-left:1em;margin-top:2px;margin-bottom:2px;}</style><ul role=\"list\" class=\"css-2yqebn\"><li class=\"css-0\">The useSearch hook takes an endpoint, in our case our serverless function. It returns a search function, the data and some states.</li><li class=\"css-0\">The context holds our users name.</li><li class=\"css-0\">The customConfigSearch is the power house of this functionality. You can pass it any number of things to search by, in our case its the folder name. We use the = symbol to indicate that we want an exact match. Its wrapped in a useCallback to prevent re-rendering based on the prop changes and stop our serverless function being called again and again. This saves us on our rate limit with cloudinary.</li><li class=\"css-0\">The expression itself is written using the string literal syntax stating the type of media we are searching for and the exact match on the folder name.</li><li class=\"css-0\">The config object is optional and can also include any number of options such as tags, sort_by, max_results and many more. Note that some of these can also be added at the serverless function level. Check the docs for more info on whats possible</li><li class=\"css-0\">The states are handled with custom error and loading components- If the folder is a match and the data was retrieved successfully then the data array is accessed</li><li class=\"css-0\">The image is returned as a lazy image, which we will cover next!</li><li class=\"css-0\">A button calls the customConfigSearch function to load the images.</li></ul><p>Phew! That was a lot to take in! 😅</p><p>The lazy image is a component that lazy loads an image with a placeholder. Handy!</p><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Lazy load image</p><pre><pre class=\"prism-code language-jsx\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> React </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;react&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> useImage </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;use-cloudinary&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> DevCardDispatchContext </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;../../../context/devcard-context&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(106, 153, 85)\">// Image w/ Lazy-load + placeholder</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">function</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">LazyImage</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  publicId</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  transformations</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  width</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  height</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  cloudName</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  secure_url</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\">  isProfile</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token parameter\"></span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    generateUrl</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    blurredPlaceholderUrl</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    isError</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    error</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    ref</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    supportsLazyLoading</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    inView</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    isSuccess</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useImage</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    cloudName</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> dispatch </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> React</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useContext</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">DevCardDispatchContext</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  React</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useEffect</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">generateUrl</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      publicId</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      transformations</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        width</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        height</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">...</span><span class=\"token plain\">transformations</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(106, 153, 85)\">// eslint-disable-next-line react-hooks/exhaustive-deps</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">[</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">]</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">isError</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">p</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">error</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">message</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">p</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">ref</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">!</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">supportsLazyLoading </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">?</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> ref </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript keyword\" style=\"color:rgb(86, 156, 214)\">undefined</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        width</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">width</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">px</span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        height</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">height</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">px</span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        background</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">no-repeat url(</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token tag script language-javascript template-string interpolation function\" style=\"color:rgb(220, 220, 170)\">blurredPlaceholderUrl</span><span class=\"token tag script language-javascript template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">          publicId</span><span class=\"token tag script language-javascript template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">          width</span><span class=\"token tag script language-javascript template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">          height</span><span class=\"token tag script language-javascript template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag script language-javascript template-string interpolation punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">)</span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        cursor</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;pointer&#x27;</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        outline</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;none&#x27;</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">role</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">button</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">tabindex</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">0</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">onKeyPress</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag script language-javascript function\" style=\"color:rgb(220, 220, 170)\">dispatch</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">          type</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> isProfile </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">?</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;selectedProfileImage&#x27;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;selectedCoverImage&#x27;</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">          payload</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> secure_url</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">onClick</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag script language-javascript function\" style=\"color:rgb(220, 220, 170)\">dispatch</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">          type</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> isProfile </span><span class=\"token tag script language-javascript operator\" style=\"color:rgb(212, 212, 212)\">?</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;selectedProfileImage&#x27;</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;selectedCoverImage&#x27;</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">          payload</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> secure_url</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">inView </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">||</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">supportsLazyLoading </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> isSuccess</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">?</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">img</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">          </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">src</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">secure_url</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">          </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">loading</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">lazy</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">          </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">            width</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">width</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">px</span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">            height</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token tag script language-javascript template-string interpolation\" style=\"color:rgb(78, 201, 176)\">height</span><span class=\"token tag script language-javascript template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript template-string string\" style=\"color:rgb(206, 145, 120)\">px</span><span class=\"token tag script language-javascript template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">            border</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag script language-javascript string\" style=\"color:rgb(206, 145, 120)\">&#x27;solid 2px&#x27;</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">          </span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">          </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">alt</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">Lazy loaded profile</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">null</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">div</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">export</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">default</span><span class=\"token plain\"> LazyImage</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>One thing to note about using this component with Gatsby is that the base image url wont load the image, you have to use the https secure_url for it to work.</p><p>And thats it! It&#x27;s a pretty powerful way to load your images via user defined events. Check the <a href=\"https://use-cloudinary.netlify.app/usage/use-search\">useSearch docs</a> for a run down of whats possible with the hook.</p>","scope":{"title":"use-cloudinary - useSearch","published":true,"category":"First Look","author":"Richard Haines","tags":["cloudinary","use-cloudinary","hooks"],"pin":false,"description":"How to use the useSearch hook from the use-cloudinary lib","growth":"mid"}},"frontMatter":{"title":"use-cloudinary - useSearch","published":true,"category":"First Look","author":"Richard Haines","tags":["cloudinary","use-cloudinary","hooks"],"pin":false,"description":"How to use the useSearch hook from the use-cloudinary lib","growth":"mid"},"slug":["use-cloudinary-hooks-use-search"]},"__N_SSG":true}