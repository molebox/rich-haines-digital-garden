{"pageProps":{"mdxSource":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Setup\"), mdx(\"p\", null, \"Im currently working on a project which will be a mobile app for parents to swap\\nunused items. To do this im using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://expo.io/\"\n  }), \"Expo\"), \" with a\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fauna.com/\"\n  }), \"FaunaDB\"), \" database. I had already setup a project with Fauna\\nand Gatsby so thought the knowledge transfer would be quite simple. And it was,\\nuntil it wasn't.\"), mdx(\"p\", null, \"The problem with trying to access the Fauna database from a React Native (RN)\\napp is that RN doesn't come with or support the Node Standard Library, which\\nFauna uses. The solution, or the one I found, is to create a separate API to\\nhandle the Fauna side of things and access that API form the app. Let's go\\nthrough a simple setup to see how this is done.\"), mdx(\"p\", null, \"Make sure you have installed the expo-cli and now-cli.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn global add expo-cli\\nyarn global add vercel\\n\")), mdx(\"p\", null, \"Create a new expo project, follow the instructions (you can choose a blank or\\ntabs template) and open your code editor\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"expo init myProject\\ncd myProject\\ncode .\\n\")), mdx(\"p\", null, \"Ok, leave the app for a minute and login to your Fauna account, create a new\\ndatabase and name it whatever you like. Perhaps MySuperDB? Create a new key with\\na server role. Name it FAUNA_SERVER. Make a note of it as it wont be shown\\nagain.\"), mdx(\"p\", null, \"Back to our app we now need to add some packages. Its a long list so just do it\\nall in one.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn add @apollo/client apollo-link-context apollo-link-http graphql graphql-tag isomorphic-fetch\\n\\nyarn add react-native-dotenv -D\\n\")), mdx(\"h2\", null, \"Adding Apollo\"), mdx(\"p\", null, \"First we want to setup our Apollo Provider which will wrap our root component,\\nApp.js. Create a new file in the constants folder and name it apollo.js\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"const React = require('react');\\nimport { FAUNA_SERVER } from 'react-native-dotenv';\\nconst {\\n  ApolloProvider,\\n  ApolloClient,\\n  InMemoryCache,\\n} = require('@apollo/client');\\nconst { setContext } = require('apollo-link-context');\\nconst { createHttpLink } = require('apollo-link-http');\\nconst fetch = require('isomorphic-fetch');\\n\\nconst httpLink = createHttpLink({\\n  uri: 'https://graphql.fauna.com/graphql',\\n  fetch,\\n});\\n\\nconst authLink = setContext((_, { headers }) => {\\n  return {\\n    headers: {\\n      ...headers,\\n      authorization: `Bearer ${FAUNA_SERVER}`,\\n    },\\n  };\\n});\\n\\nconst client = new ApolloClient({\\n  link: authLink.concat(httpLink),\\n  cache: new InMemoryCache(),\\n});\\n\\nconst Apollo = ({ children }) => (\\n  <ApolloProvider client={client}>{children}</ApolloProvider>\\n);\\n\\nexport default Apollo;\\n\")), mdx(\"p\", null, \"The above code can be boiled down to:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Created a new http link\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create an auth link which returns the headers to the context so the http link\\ncan read them. Here we pass in our Fauna key with server rights.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Then we create the client to be passed to the provider with the link now set\\nas the auth link.\")), mdx(\"p\", null, \"Create a new .env file at the projects root and add your fauna server key, using\\nthe name we gave it in our fauna dashboard.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"FAUNA_SERVER=xxxxxxxxxxxxxxxxxxxxxxxxxxx\\n\")), mdx(\"p\", null, \"Next head over to App.js and import and wrap the App with our new Apollo\\ncomponent. (I had used the tab template so yours will look a bit different if\\nyou chose the blank templete)\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import Apollo from './constants/apollo';\\n//.....lots of code\\n\\nreturn (\\n  <Apollo>\\n    <View style={styles.container}>\\n      {Platform.OS === 'ios' && <StatusBar barStyle=\\\"dark-content\\\" />}\\n      <NavigationContainer linking={LinkingConfiguration}>\\n        <Stack.Navigator>\\n          <Stack.Screen name=\\\"Root\\\" component={BottomTabNavigator} />\\n        </Stack.Navigator>\\n      </NavigationContainer>\\n    </View>\\n  </Apollo>\\n);\\n\")), mdx(\"h2\", null, \"Our schema\"), mdx(\"p\", null, \"Now we can add a schema, which we will import into our Fauna database via their\\ndashboard. Inside the constants folder create a new file named schema.gql.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-gql\"\n  }), \"type Query {\\n  allUsers: [User]\\n}\\n\\ntype User {\\n  name: String!\\n  email: String!\\n}\\n\")), mdx(\"p\", null, \"Back on the Fauna dashboard click the graphql tab on the left and import the\\nschema. Once done you will be presented with a graphql playground. Add some\\nusers to our database.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"mutation {\\n    createUser(\\n      data: {\\n        name: \\\"Richard Haines\\\"\\n        email: \\\"hello@richardhaines.dev\\\"\\n      }\\n    ) {\\n      _id\\n      name\\n      email\\n    }\\n  }\\n\")), mdx(\"p\", null, \"Ok cool, now we can setup our serverless function. Create a new project and\\ninitialize it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"mkdir mySuperAPI\\ncd mySuperAPI\\nyarn init -y\\n\")), mdx(\"p\", null, \"Vercel expects us to have an api folder so create that. We will also want to\\ninstall some packages here.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn add @now/node apollo-link-http apollo-server-micro dotenv graphql graphql-tag isomorphic-fetch\\n\")), mdx(\"p\", null, \"Inside the api folder create a new folder that begins with an underscore, this\\nis so that vercel knows not to build it's content as a functions. Inside that\\nfolder create a new file named config.js.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"cd api\\nmkdir _utils\\ncd _utils && touch config.js\\n\")), mdx(\"p\", null, \"Create a .env file at the root and add the Fauna server key. Then in the new\\nconfig.js file add the following. This is basically a short cut for us having to\\ntype out process.env.MY_KEY. Right now we only have one key but we might want to\\nadd more later. I find this a handy little file to use.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const dotenv = require('dotenv');\\ndotenv.config();\\nmodule.exports = {\\n  faunaServerKey: process.env.FAUNA_SERVER,\\n};\\n\")), mdx(\"h2\", null, \"Graphql\"), mdx(\"p\", null, \"Back to the api folder create a new file called graphql.js and add the\\nfollowing.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const { faunaServer } = require('./config');\\nconst { createHttpLink } = require('apollo-link-http');\\nconst {\\n  ApolloServer,\\n  makeRemoteExecutableSchema,\\n  introspectSchema,\\n} = require('apollo-server-micro');\\nconst fetch = require('isomorphic-fetch');\\n\\nconst link = createHttpLink({\\n  uri: 'https://graphql.fauna.com/graphql',\\n  fetch,\\n  headers: {\\n    Authorization: `Bearer ${faunaServer}`,\\n  },\\n});\\n\\nconst schema = makeRemoteExecutableSchema({\\n  schema: introspectSchema(link),\\n  link,\\n});\\n\\nconst server = new ApolloServer({\\n  schema,\\n  playground: true,\\n  introspection: true,\\n});\\n\\nmodule.exports = (req, res, ...args) => {\\n  if (req.method === 'OPTIONS') return res.status(200).send();\\n\\n  const handler = server.createHandler();\\n\\n  return handler(req, res, ...args);\\n};\\n\")), mdx(\"p\", null, \"Run now from the mySuperAPI root and deploy the API. Head back over to the app\\nand open the HomeScreen.js file located in the screens folder. Import gql and\\nthe useQuery hook from Apollo. Add a query to get all the users you just created\\nand use the useQuery hook to display the returned data.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import { gql, useQuery } from \\\"@apollo/client\\\";\\n\\nconst GET_USERS = gql`\\n  query GetUsers {\\n    allUsers {\\n      data {\\n        name\\n        location\\n        _id\\n      }\\n    }\\n  }\\n`;\\n\\nexport default function HomeScreen() {\\n\\n  const {\\n    loading,\\n    error,\\n    data\\n  } = useQuery(GET_USERS);\\n\\n  return (\\n    <View style={styles.container}>\\n      <ScrollView\\n        style={styles.container}\\n        contentContainerStyle={styles.contentContainer}\\n      >\\n        <View style={styles.getStartedContainer}>\\n\\n            {!loading && !error && data.allUsers.data.map((user) => (\\n              <Text key={user._id}>{user.name}</Text>\\n            ))}\\n      </ScrollView>\\n    </View>\\n  );\\n}\\n\\n\")), mdx(\"p\", null, \"Now its time to run the app and bask in your glory!\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"yarn start\\n\")), mdx(\"p\", null, \"You have multiple options to view your app, the easiest is to just scan the QR\\ncode on the metro bundler browser screen.\"), mdx(\"p\", null, \"You now have a working mobile app which is pulling data with Apollo from FaunaDB\\nvia a serverless API hosted on Vercel. Yay for technology! \\uD83E\\uDD29\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Setup</p><p>Im currently working on a project which will be a mobile app for parents to swap\nunused items. To do this im using <a href=\"https://expo.io/\">Expo</a> with a\n<a href=\"https://fauna.com/\">FaunaDB</a> database. I had already setup a project with Fauna\nand Gatsby so thought the knowledge transfer would be quite simple. And it was,\nuntil it wasn&#x27;t.</p><p>The problem with trying to access the Fauna database from a React Native (RN)\napp is that RN doesn&#x27;t come with or support the Node Standard Library, which\nFauna uses. The solution, or the one I found, is to create a separate API to\nhandle the Fauna side of things and access that API form the app. Let&#x27;s go\nthrough a simple setup to see how this is done.</p><p>Make sure you have installed the expo-cli and now-cli.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> global </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">add</span><span class=\"token plain\"> expo-cli</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> global </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">add</span><span class=\"token plain\"> vercel</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Create a new expo project, follow the instructions (you can choose a blank or\ntabs template) and open your code editor</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">expo init myProject</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token builtin class-name\" style=\"color:rgb(78, 201, 176)\">cd</span><span class=\"token plain\"> myProject</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">code </span><span class=\"token builtin class-name\" style=\"color:rgb(78, 201, 176)\">.</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Ok, leave the app for a minute and login to your Fauna account, create a new\ndatabase and name it whatever you like. Perhaps MySuperDB? Create a new key with\na server role. Name it FAUNA_SERVER. Make a note of it as it wont be shown\nagain.</p><p>Back to our app we now need to add some packages. Its a long list so just do it\nall in one.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">add</span><span class=\"token plain\"> @apollo/client apollo-link-context apollo-link-http graphql graphql-tag isomorphic-fetch</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">add</span><span class=\"token plain\"> react-native-dotenv -D</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Adding Apollo</p><p>First we want to setup our Apollo Provider which will wrap our root component,\nApp.js. Create a new file in the constants folder and name it apollo.js</p><pre><pre class=\"prism-code language-jsx\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> React </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;react&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">FAUNA_SERVER</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;react-native-dotenv&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  ApolloProvider</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  ApolloClient</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  InMemoryCache</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;@apollo/client&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> setContext </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;apollo-link-context&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> createHttpLink </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;apollo-link-http&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> fetch </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;isomorphic-fetch&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> httpLink </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">createHttpLink</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  uri</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;https://graphql.fauna.com/graphql&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  fetch</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> authLink </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">setContext</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">_</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"> </span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token parameter\"> headers </span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    headers</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">...</span><span class=\"token plain\">headers</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      authorization</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">Bearer </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token template-string interpolation constant\" style=\"color:rgb(100, 102, 149)\">FAUNA_SERVER</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> client </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(78, 201, 176)\">ApolloClient</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  link</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> authLink</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">concat</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">httpLink</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  cache</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(78, 201, 176)\">InMemoryCache</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:rgb(220, 220, 170)\">Apollo</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token parameter\"> children </span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">ApolloProvider</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">client</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">client</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">children</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">ApolloProvider</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">export</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">default</span><span class=\"token plain\"> Apollo</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>The above code can be boiled down to:</p><style data-emotion-css=\"2yqebn\">.css-2yqebn{list-style-type:bullet;margin-left:1em;margin-top:2px;margin-bottom:2px;}</style><ul role=\"list\" class=\"css-2yqebn\"><li class=\"css-0\">Created a new http link</li><li class=\"css-0\">Create an auth link which returns the headers to the context so the http link\ncan read them. Here we pass in our Fauna key with server rights.</li><li class=\"css-0\">Then we create the client to be passed to the provider with the link now set\nas the auth link.</li></ul><p>Create a new .env file at the projects root and add your fauna server key, using\nthe name we gave it in our fauna dashboard.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token assign-left variable\" style=\"color:rgb(156, 220, 254)\">FAUNA_SERVER</span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\">xxxxxxxxxxxxxxxxxxxxxxxxxxx</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Next head over to App.js and import and wrap the App with our new Apollo\ncomponent. (I had used the tab template so yours will look a bit different if\nyou chose the blank templete)</p><pre><pre class=\"prism-code language-jsx\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> Apollo </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;./constants/apollo&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(106, 153, 85)\">//.....lots of code</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Apollo</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">View</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">styles</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">container</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">Platform</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">OS</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">===</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;ios&#x27;</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">StatusBar</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">bar</span><span class=\"token tag style-attr language-css attr-name\" style=\"color:rgb(156, 220, 254)\">Style</span><span class=\"token tag style-attr language-css punctuation\" style=\"color:rgb(212, 212, 212)\">=&quot;</span><span class=\"token tag style-attr language-css attr-value\" style=\"color:rgb(206, 145, 120)\">dark-content</span><span class=\"token tag style-attr language-css punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">NavigationContainer</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">linking</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">LinkingConfiguration</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Stack.Navigator</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">          </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Stack.Screen</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">name</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag attr-value\" style=\"color:rgb(206, 145, 120)\">Root</span><span class=\"token tag attr-value punctuation\" style=\"color:rgb(212, 212, 212)\">&quot;</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">component</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">BottomTabNavigator</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Stack.Navigator</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">NavigationContainer</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">View</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Apollo</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Our schema</p><p>Now we can add a schema, which we will import into our Fauna database via their\ndashboard. Inside the constants folder create a new file named schema.gql.</p><pre><pre class=\"prism-code language-gql\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">type Query {</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  allUsers: [User]</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">}</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">type User {</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  name: String!</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  email: String!</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">}</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Back on the Fauna dashboard click the graphql tab on the left and import the\nschema. Once done you will be presented with a graphql playground. Add some\nusers to our database.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">mutation </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    createUser</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      data: </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        name: </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&quot;Richard Haines&quot;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        email: </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&quot;hello@richardhaines.dev&quot;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      _id</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      name</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      email</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Ok cool, now we can setup our serverless function. Create a new project and\ninitialize it.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">mkdir</span><span class=\"token plain\"> mySuperAPI</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token builtin class-name\" style=\"color:rgb(78, 201, 176)\">cd</span><span class=\"token plain\"> mySuperAPI</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> init -y</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Vercel expects us to have an api folder so create that. We will also want to\ninstall some packages here.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">add</span><span class=\"token plain\"> @now/node apollo-link-http apollo-server-micro dotenv graphql graphql-tag isomorphic-fetch</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Inside the api folder create a new folder that begins with an underscore, this\nis so that vercel knows not to build it&#x27;s content as a functions. Inside that\nfolder create a new file named config.js.</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token builtin class-name\" style=\"color:rgb(78, 201, 176)\">cd</span><span class=\"token plain\"> api</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">mkdir</span><span class=\"token plain\"> _utils</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token builtin class-name\" style=\"color:rgb(78, 201, 176)\">cd</span><span class=\"token plain\"> _utils </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">touch</span><span class=\"token plain\"> config.js</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Create a .env file at the root and add the Fauna server key. Then in the new\nconfig.js file add the following. This is basically a short cut for us having to\ntype out process.env.MY_KEY. Right now we only have one key but we might want to\nadd more later. I find this a handy little file to use.</p><pre><pre class=\"prism-code language-js\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> dotenv </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;dotenv&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">dotenv</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">config</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  faunaServerKey</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> process</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">FAUNA_SERVER</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><style data-emotion-css=\"15salui\">.css-15salui{font-size:1xl;font-family:heading;margin-top:3px;margin-bottom:3px;}</style><p class=\"chakra-text css-15salui\">Graphql</p><p>Back to the api folder create a new file called graphql.js and add the\nfollowing.</p><pre><pre class=\"prism-code language-js\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> faunaServer </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;./config&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> createHttpLink </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;apollo-link-http&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token maybe-class-name\">ApolloServer</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  makeRemoteExecutableSchema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  introspectSchema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;apollo-server-micro&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> fetch </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">require</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;isomorphic-fetch&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> link </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">createHttpLink</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  uri</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;https://graphql.fauna.com/graphql&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  fetch</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  headers</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token maybe-class-name\">Authorization</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">Bearer </span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">${</span><span class=\"token template-string interpolation\">faunaServer</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> schema </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">makeRemoteExecutableSchema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  schema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">introspectSchema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">link</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  link</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> server </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">new</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(78, 201, 176)\">ApolloServer</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  schema</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  playground</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  introspection</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">module</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method-variable function-variable method function property-access\" style=\"color:rgb(220, 220, 170)\">exports</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">req</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"> res</span><span class=\"token parameter punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token parameter\"> </span><span class=\"token parameter operator\" style=\"color:rgb(212, 212, 212)\">...</span><span class=\"token parameter\">args</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">req</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token property-access\">method</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">===</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&#x27;OPTIONS&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> res</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">status</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token number\" style=\"color:rgb(181, 206, 168)\">200</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">send</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> handler </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> server</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token method function property-access\" style=\"color:rgb(220, 220, 170)\">createHandler</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">handler</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\">req</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> res</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> </span><span class=\"token spread operator\" style=\"color:rgb(212, 212, 212)\">...</span><span class=\"token plain\">args</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Run now from the mySuperAPI root and deploy the API. Head back over to the app\nand open the HomeScreen.js file located in the screens folder. Import gql and\nthe useQuery hook from Apollo. Add a query to get all the users you just created\nand use the useQuery hook to display the returned data.</p><pre><pre class=\"prism-code language-jsx\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">import</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"> gql</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"> useQuery </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(206, 145, 120)\">&quot;@apollo/client&quot;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">GET_USERS</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> gql</span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">  query GetUsers {</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">    allUsers {</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">      data {</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">        name</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">        location</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">        _id</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">      }</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">    }</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\">  }</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token template-string string\" style=\"color:rgb(206, 145, 120)\"></span><span class=\"token template-string template-punctuation string\" style=\"color:rgb(206, 145, 120)\">`</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">export</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">default</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">function</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">HomeScreen</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    loading</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    error</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    data</span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">useQuery</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token constant\" style=\"color:rgb(100, 102, 149)\">GET_USERS</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(86, 156, 214)\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">View</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">styles</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">container</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">ScrollView</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">styles</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">container</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">        </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">contentContainerStyle</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">styles</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">contentContainer</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">View</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">style</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">styles</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">getStartedContainer</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\" style=\"display:inline-block\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">!</span><span class=\"token plain\">loading </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">!</span><span class=\"token plain\">error </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">&amp;&amp;</span><span class=\"token plain\"> data</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">allUsers</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">data</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">map</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token parameter\">user</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(212, 212, 212)\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">              </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Text</span><span class=\"token tag\" style=\"color:rgb(78, 201, 176)\"> </span><span class=\"token tag attr-name\" style=\"color:rgb(156, 220, 254)\">key</span><span class=\"token tag script language-javascript script-punctuation punctuation\" style=\"color:rgb(212, 212, 212)\">=</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">user</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token tag script language-javascript\" style=\"color:rgb(78, 201, 176)\">_id</span><span class=\"token tag script language-javascript punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">{</span><span class=\"token plain\">user</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">Text</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">      </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">ScrollView</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&lt;/</span><span class=\"token tag class-name\" style=\"color:rgb(78, 201, 176)\">View</span><span class=\"token tag punctuation\" style=\"color:rgb(212, 212, 212)\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">)</span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(212, 212, 212)\">}</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>Now its time to run the app and bask in your glory!</p><pre><pre class=\"prism-code language-bash\" style=\"color:#9CDCFE;background-color:#1E1E1E;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px;display:flex;flex-direction:column;width:100%;position:relative\"><div class=\"token-line\" style=\"color:#9CDCFE\"><span class=\"token function\" style=\"color:rgb(220, 220, 170)\">yarn</span><span class=\"token plain\"> start</span></div><style data-emotion-css=\"13tafan\">.css-13tafan{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;vertical-align:middle;outline:none;width:auto;justify-self:flex-end;position:absolute;top:0;right:20px;color:brand.crayola.300;margin-top:4px;text-transform:uppercase;font-weight:600;}</style><button type=\"button\" class=\"chakra-button css-13tafan\" aria-label=\"Copy text\" role=\"button\">Grab It</button></pre></pre><p>You have multiple options to view your app, the easiest is to just scan the QR\ncode on the metro bundler browser screen.</p><p>You now have a working mobile app which is pulling data with Apollo from FaunaDB\nvia a serverless API hosted on Vercel. Yay for technology! </p>","scope":{"title":"Setup Expo with FaunaDB via Vercel","published":true,"category":"Serverless","author":"Richard Haines","tags":["expo","faunadb","vercel"],"pin":false,"description":"Faunadb and mobile development with expo","growth":"full"}},"frontMatter":{"title":"Setup Expo with FaunaDB via Vercel","published":true,"category":"Serverless","author":"Richard Haines","tags":["expo","faunadb","vercel"],"pin":false,"description":"Faunadb and mobile development with expo","growth":"full"},"slug":["setup-expo-with-faunadb-via-vercel"]},"__N_SSG":true}